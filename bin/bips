#!/usr/bin/env python
"""Meta routine to configure and run various brain imaging workflows

Example
-------

List all workflows::

  bips -l
"""

import argparse


# modality
# subtype
# workflow
# config

"""
Examples

bips -i -u uuid # display info about workflow
bips -u uuid -c config.json # create config for running workflow
bips -r config.json # run workflow

"""

def main(args):
    if args.all_info:
        from bips.workflows import list_workflows
        list_workflows()
    print args.config,args.uuid, args.info

if __name__== "__main__":
    parser = argparse.ArgumentParser(description=__doc__)
    parser.add_argument('-c','--config',
                        dest='config',
                        required=False,
                        help='location of config file'
                        )
    parser.add_argument('-u','--uuid',
                        dest = 'uuid',
                        required=False,
                        help='workflow to run')
    parser.add_argument('-i','--info',
                        dest = 'info',
                        required=False,
                        help='print detailed info of uuid')
    parser.add_argument('-I',
                        dest = 'all_info',
                        default=False,
                        action='store_true',
                        required=False,
                        help='print information on all bips workflows')
    parser.add_argument('-r',
                        dest = 'run',
                        required=False,
                        help='run the workflow')
    
    args = parser.parse_args()
    main(args)
    
